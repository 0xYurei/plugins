(function(u,f){"use strict";function n(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var c=n(u),h=n(f);class p{constructor(){this.patches=[]}add(...e){this.patches.push(...e)}remove(e){let[i]=this.patches.splice(this.patches.indexOf(s=>s==e),1);i()}removeAll(){let e=this.patches.splice(0,this.patches.length);for(let i=0;i<e.length;i++)e[i]()}}var r=new p,y={load(){r.add(h.default.patch('[data-list-item-id*="members-"] [class*="layout-"] [class*="content-"], [data-list-item-id*="private-channels-"] [class*="layout-"] [class*="content-"]',t=>{let e="";function i(){let s=t.querySelector('[class*="subText-"] [class*="activity-"]');if(!s)return;let o=c.default.react.getProps(s,l=>l?.activities)?.activities;if(!o?.length)return;let a=o.find(l=>l?.party?.id?.startsWith?.("spotify:"));if(!a||!s.textContent.includes("Spotify")||e==a?.sync_id)return;e=a.sync_id;let d=`${a.state.split("; ").join(", ")} - ${a.details}`;s.setAttribute("acord--tooltip-content",d),c.default.ifExists(t.querySelector('[class*="activityText-"] strong'),l=>{l.textContent=d})}return i(),c.default.interval(i,100)}))},unload(){r.removeAll()}};return y})(acord.utils,acord.dom);
