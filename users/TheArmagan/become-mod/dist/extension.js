(function(u,d,n){"use strict";function o(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var s=o(u),p=o(n);class h{constructor(){this.patches=[]}add(...l){this.patches.push(...l)}remove(l){let[t]=this.patches.splice(this.patches.indexOf(i=>i==l),1);t()}removeAll(){let l=this.patches.splice(0,this.patches.length);for(let t=0;t<l.length;t++)l[t]()}}var c=new h;const{FluxDispatcher:a,GuildStore:f,UserStore:m}=p.default;function _(){c.add(s.default.patch("guild-context",(e,l)=>{e.props.children.push(s.default.build.item({type:"separator"}),s.default.build.item({label:d.i18n.format("BECOME_MOD"),action:()=>{let t=l.guild.id,i=f.getGuild(t),r={type:"GUILD_MEMBER_UPDATE",guildId:t,roles:Object.keys(i.roles),user:m.getCurrentUser()};a.dispatch(r),setTimeout(()=>{a.dispatch({type:"VIEW_AS_ROLES_UPDATE",guildId:t,roles:[],options:{}}),setTimeout(()=>a.dispatch(r),10)},10)}}))}))}var g={load(){_()},unload(){c.removeAll()}};return g})(acord.ui.contextMenus,acord.extension,acord.modules.common);
