(function(i,d,s,l){"use strict";const u=s.findByProperties("desiredItemWidth","result","results","emptyHintFavorite"),n=s.findByProperties("categoryFade","categoryFadeBlurple","categoryIcon","formatSelectors"),p=s.findByProperties("clearChannel","crosspostMessage","sendBotMessage","sendMessage","updateEditMessage"),t={unpatchers:[]};var g={load(){t.unpatchers.push(i.dom.patch(`.${u.result}`,e=>{setTimeout(()=>{if(e.querySelector(`.${n.categoryFade}, .${n.categoryFadeBlurple}`)||e.classList.contains("acord--mass-dm"))return;e.classList.add("acord--mass-dm");let r=(e.querySelector("img")||e.querySelector("video"))?.getAttribute("src");const o=l.react.getProps(e);if(r){if(r.startsWith("https:")||(r="https:"+r),r.includes("tenor.co")&&o){let a=o.children?.props?.children;Array.isArray(a)||(a=[o.children?.props?.children]);let c=a.find(f=>f?.props?.url)?.props?.url;c&&(r=c)}e.oncontextmenu=()=>{p.sendMessage(d.SelectedChannelStore.getChannelId(),{content:r})}}},250)}))},unload(){for(let e=0;e<t.unpatchers.length;e++)t.unpatchers[e]?.();t.unpatchers=[]}};return g})(acord,acord.modules.common,acord.modules.webpack,acord.utils);
