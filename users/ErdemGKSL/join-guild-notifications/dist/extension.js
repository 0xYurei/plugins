(function(n,r,u){"use strict";const l=u.webpack.findByProperties("updateGuildNotificationSettings","updateGuildAndChannelNotificationSettings"),t=new Set,c=()=>{const i=async()=>{const s=new Set;await p(10);for(let e in n.GuildStore.getGuilds())s.add(e);const o=[...s].filter(e=>!t.has(e));if(!o?.length){s.size!=t.size&&(t.clear(),s.forEach(e=>t.add(e)));return}const a={muted:!0};for(let e in r.persist.ghost.settings)r.persist.ghost.settings[e]&&(a[e]=r.persist.ghost.settings[e]);o.forEach(e=>{l.updateGuildNotificationSettings(e,a)}),t.clear(),s.forEach(e=>t.add(e))};return n.GuildStore.addReactChangeListener(i),()=>n.GuildStore.removeReactChangeListener(i)};let p=i=>new Promise(s=>setTimeout(()=>s(!0),i)),d;var g={load(){for(let i in n.GuildStore.getGuilds())t.add(i);d=c()},unload(){d(),t.clear()},settings:{data:[{type:"checkbox",name:"Suppres Everyone",description:"Suppresses everyone mentions when joining a guild.",property:"suppress_everyone",value:!1},{type:"checkbox",name:"Suppres Roles",description:"Suppresses role mentions when joining a guild.",property:"suppress_roles",value:!1},{type:"checkbox",name:"Suppres Scheduled Events",description:"Suppresses scheduled events when joining a guild.",property:"mute_scheduled_events",value:!1}]}};return g})(acord.modules.common,acord.extension,acord.modules);
