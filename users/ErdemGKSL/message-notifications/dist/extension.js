(function(d,e,c,u,h,w){"use strict";let r=[],s=new Set,i,a=({message:t})=>{const o=r.find(n=>t.content.toLowerCase().includes(n.toLowerCase()));if(o){if(s.has(t.nonce||t.id))return;s.add(t.nonce||t.id);const n=t.content.indexOf(o),l=n+o.length+15,f=((n-15>0?"\u2026":"")+d.escapeHTML(t.content.slice(Math.max(0,n-15),l))+(t.content.length>l?"\u2026":"")).replaceAll(o,`<strong>${o}</strong>`);w.notifications.show(`<strong>${d.escapeHTML(h.getUser(t.author.id).tag)}:</strong> ${f}`,{onClick:()=>{u.transitionTo(`/channels/${t.guild_id||"@me"}/${t.channel_id}/${t.id}`)}})}};var p={load(){c.FluxDispatcher.subscribe("MESSAGE_CREATE",a),r=e.persist.ghost.settings?.words.split(", "),i=setInterval(()=>{s.clear()},1e3*60*5)},unload(){c.FluxDispatcher.unsubscribe("MESSAGE_CREATE",a),i&&clearInterval(i)},settings:{data:[{type:"textarea",name:"Notify words",rows:6,property:"words",description:"The words that you want to be get notified when a message contains it.",placeholder:"hi, how are you?",value:""}],update(t,o){t=="words"&&g(o)}}};const g=_.debounce(function(t){e.persist.store.settings.words=(e.persist.ghost.settings?.words||t)?.split(/ *(\n|,) */g).join(", "),r=e.persist.ghost.settings?.words.split(", ")},5e3);return p})(acord.dom,acord.extension,acord.modules.common,acord.modules.common.Router,acord.modules.common.UserStore,acord.ui);
